/* --- Poppins Font Import --- */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

/* --- Global & Layout Setup --- */
:root {
    /* Define colors once */
    --color-charcoal: #333333; /* Default popup background */
    --color-light-default: #FFFFFF; /* Default display background */
    --color-control-bg: #008080; /* Teal for main controls background */
    --color-dark-bg: #282c34;
    --color-medium-bg: #383c44; /* Used for the records wrapper */
    --color-green: #4CAF50;
    --color-yellow: #FFEB3B;
    --color-red: #F44336;
    --color-blue-accent: #61dafb;
    --color-white: #FFFFFF;
    --color-black: #000000;
}

body {
    font-family: 'Poppins', Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    margin: 0;
    background-color: var(--color-dark-bg);
    color: var(--color-white);
    padding: 20px;
}

.app-container-vertical {
    display: flex;
    flex-direction: column; 
    max-width: 1200px;
    width: 100%;
    gap: 20px;
}

.top-content-wrapper {
    display: flex;
    gap: 20px;
    align-items: flex-start;
}

/* --- Part 1 & Part 2: Main Controls Area --- */
.main-controls-area {
    width: 100%; 
    max-width: 800px;
    flex-shrink: 0;
}

/* Part 1: Timer Display Area */
.timer-display-area {
    background-color: var(--color-light-default); 
    padding: 30px 20px;
    border-radius: 10px;
    text-align: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
}

#timer-display {
    font-family: Arial, sans-serif; 
    font-size: 6em;
    font-weight: bold;
    color: var(--color-black); 
    font-variant-numeric: tabular-nums; 
    transition: color 0.3s; 
}

/* Millisecond styling */
#timer-display .ms-small {
    font-size: 25%;
    opacity: 0.8;
}

/* Part 2: Body of Controls */
.body-controls {
    background-color: var(--color-control-bg); /* TEAL COLOR */
    padding: 20px;
    border-radius: 10px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.control-section {
    /* Inner sections use a slightly darker shade derived from medium-bg/charcoal blend */
    background-color: #006666; /* Darker Teal for separation */
    padding: 15px;
    border-radius: 8px;
    box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);
}

/* --- Custom Input Section (NEW GRID DEFINITION) --- */
.custom-section h3 {
    margin-top: 0;
}
.custom-inputs-grid-new {
    display: grid;
    /* 5 columns: Label | Input Min | Label Min | Input Sec | Label Sec */
    grid-template-columns: 80px 1fr auto 1fr auto;
    gap: 8px;
    align-items: center;
}
.custom-inputs-grid-new .custom-label {
    grid-column: 1 / 2; /* Label spans only the first column */
}
.custom-inputs-grid-new .input-label {
    font-size: 0.9em;
    opacity: 0.8;
    text-align: left;
}
.custom-inputs-grid-new input {
    text-align: right;
}

/* NEW: Style for Time/Weather */
#time-weather-display {
    grid-column: 1 / 6;
    text-align: center;
    font-size: 0.9em;
    padding: 5px 0 15px 0;
    border-bottom: 1px solid #005050; /* Subtle separator */
    margin-bottom: 15px;
}
#time-weather-display span {
    font-weight: 600;
}


/* --- Global Disabled State (ENFORCES WHITE TEXT) --- */
.preset-btn:disabled, .custom-input:disabled {
    cursor: not-allowed;
    opacity: 0.5; 
    color: var(--color-white) !important; 
}
.custom-input:disabled {
    background-color: #555c69; 
}

/* --- Manual Button Styles --- */
.manual-controls {
    display: flex;
    justify-content: space-around;
    align-items: center;
    grid-column: 1 / 3; 
}
.manual-btn {
    padding: 12px 15px; 
    font-size: 1.0em;
    font-weight: bold;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s, opacity 0.2s;
    min-width: 100px;
}

.start-stop { background-color: var(--color-green); color: var(--color-white); }
.pause-resume { background-color: var(--color-blue-accent); color: var(--color-white); }
.reset { background-color: var(--color-red); color: var(--color-white); }
.signal-window-btn { 
    background-color: var(--color-charcoal); 
    color: var(--color-white); 
    border: 1px solid var(--color-white);
} 

/* --- Part 3: Record History Area (BOTTOM LAYOUT) --- */

.records-sidebar-bottom {
    display: flex; 
    flex-direction: column; 
    
    width: 100%; 
    max-width: 800px; 
    align-self: center; 
    background-color: var(--color-medium-bg);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
    
    max-height: 400px; 
}

.records-sidebar.records-visible {
    display: flex; 
}

#records-list {
    list-style: none;
    padding: 0;
    flex-grow: 1; 
    overflow-y: auto; 
}

.clear-records-btn {
    background-color: var(--color-red);
    color: var(--color-white);
    padding: 8px;
    margin-top: 15px;
    font-size: 0.9em;
    font-weight: normal;
    width: 100%;
}

.flash-buttons {
    display: flex;
    justify-content: space-around;
}

.flash-btn {
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: transform 0.1s;
}
.green-flash { background-color: var(--color-green); color: var(--color-white); }
.yellow-flash { background-color: var(--color-yellow); color: var(--color-black); } 
.red-flash { background-color: var(--color-red); color: var(--color-white); }

.custom-label.green-flash { color: var(--color-green); }
.custom-label.yellow-flash { color: var(--color-yellow); }
.custom-label.red-flash { color: var(--color-red); }

.records-sidebar h2 {
    color: var(--color-blue-accent);
    margin-top: 0;
    border-bottom: 1px solid #555;
    padding-bottom: 10px;
}

.record-item {
    background-color: #444951;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 5px;
    font-size: 0.9em;
    word-break: break-all;
    line-height: 1.4;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.copy-btn {
    background: #555c69;
    color: var(--color-white);
    border: none;
    padding: 5px 8px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8em;
    margin-left: 10px;
    flex-shrink: 0;
}
.copy-btn:hover {
    background: #666e7b;
}